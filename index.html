<html>
<head>
  <title>LiMuT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="UTF-8">
  <style>
    body {
      font-family: helvetica, arial;
    }
    .widget {
      background: #f8f8f8;
      border: 2px solid #202020;
      border-radius: 6px;
      margin: 4px;
      padding: 4px
    }
    button {
      font-size: 2em;
    }
    span {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="widget">
    <h1>Global</h1>
    <p>MainAmp: <span id="main-amp-readout"></span> <input id="main-amp-slider" type="range" min="0" max="200" oninput="mainAmpChange(parseFloat(this.value)/100)" style="width:80%;" /></p>
    <p>bpm: <span id="bpm-readout"></span> MainReverb: <span id="main-reverb-readout"></span></p>
  </div>
  <div class="widget">
    <p>
      <button onclick="go()">▶</button>
      <button onclick="stop()">◼</button>
    </p>
    <p>
      <textarea id="code" rows="20" style="width: 100%; max-width: 100%; font-size:1.2em;"></textarea>
    </p>
  </div>
  <div>
    Examples:
    <pre>d1 play x-o-, dur=1/2</pre>
    <pre>p1 dsawbass 0246, dur=2, attack=0, decay=3, sus=1</pre>
    <pre>Mainreverb = 10
Ba dsawbass 004[21], dur=4, amp=1.5
Kd play x[.x]x., dur=2
Sn play .o, dur=2</pre>
    <pre>bpm = 140
d1 play x
d2 play [..--]</pre>
  </div>
  <pre>p1 dsawbass 0021, detune=(0.1,0.2,0.3,0.5)</pre>
  <pre>p1 dsawbass 0021, sus=1/4, dur=2, echo=1/2</pre>
</pre>
</body>
<script data-main="main" src="require.js">
/*
x Delay / offbeat
x Round brackets for params to multiply out combinations
x Echo param
More subtle envelope with decay and sus level - maybe rename decay -> release?
lpf param
chop param
room/mix params
shape param?
formant param?
vib param?
plingy synth
time vars for params
Syntax to make parts of patterns repeat a set number of times
?? Should pattern length be max(steps, max(all param array lengths))?
Preload samples immediately after parsing
round brackets for patterns
replace eval with custom eval
room param (cheap reverb)
index pattern by beat to improve performance in finding events
aaah synth: https://github.com/AppGeo/web-audio-examples/blob/master/formant.html
*/
</script>
</html>
