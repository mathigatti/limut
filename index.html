<html>
<head>
  <title>LiMuT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="UTF-8">
  <style>
    body {
      font-family: helvetica, arial;
    }
    .widget {
      background: #f8f8f8;
      border: 2px solid #202020;
      border-radius: 6px;
      margin: 4px;
      padding: 4px
    }
    button {
      font-size: 2em;
    }
    span {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="widget">
    <h1>Global</h1>
    <p>MainAmp: <span id="main-amp-readout"></span> <input id="main-amp-slider" type="range" min="0" max="200" oninput="mainAmpChange(parseFloat(this.value)/100)" style="width:80%;" /></p>
    <p>bpm: <span id="bpm-readout"></span> MainReverb: <span id="main-reverb-readout"></span></p>
  </div>
  <div class="widget">
    <p>
      <button onclick="go()">▶</button>
      <button onclick="stop()">◼</button>
    </p>
    <p>
      <textarea id="code" rows="20" style="width: 100%; max-width: 100%; font-size:1.2em;"></textarea>
    </p>
  </div>
  <div>
    Examples:
    <pre>d1 play x-o-, dur=1/2</pre>
    <pre>p1 dbass 0246, dur=2, attack=0, decay=3, sus=1</pre>
    <pre>Mainreverb = 10
Ba dbass 004[21], dur=4, amp=1.5
Kd play x[.x]x., dur=2
Sn play .o, dur=2</pre>
    <pre>bpm = 140
d1 play x
d2 play [..--]</pre>
  </div>
  <pre>p1 dbass 0021, detune=(0.1,0.2,0.3,0.5)</pre>
  <pre>p1 dbass 0021, sus=1/4, dur=2, echo=1/2</pre>
</pre>
<h3>vars</h3>
<p>bpm</p>
<p>mainamp</p>
<p>mainreverb</p>
<h3>Synths</h3>
<p>! / stop / none</p>
<p>play</p>
<p>drums</p>
<p>dsaw</p>
<p>dbass</p>
<h3>params</h3>
<p>amp</p>
<p>oct</p>
<p>attack</p>
<p>decay</p>
<p>sus</p>
<p>suslevel</p>
<p>release</p>
<p>dur</p>
<p>delay</p>
<p>echo</p>
<p>detune</p>
</body>
<script data-main="main" src="require.js">
/*
x More subtle envelope with decay and sus level - maybe rename decay -> release?
x Share echoes
x echo for play
x Allow zero params; eg attack=0 or amp=0
Refactor envelope and effects into own files
More sample
pattern char to extend duration of previous note (cf. to '.' for rest)
param to add to degree; use () to make chords, would allow timevars
room/mix params
lpf param
chop param
shape param?
formant param?
vib param?
rate param for play
params for play synth too
plingy synth
time vars for params
Syntax to make parts of patterns repeat a set number of times?
?? Should param pattern repeat be independent of main pattern repeat? Eg so you can xo, amp=[1,2,3] and it multiplies out
Preload samples immediately after parsing
round brackets for patterns - variations like foxdot, or multiply for chords?
replace eval with custom eval
room param (cheap reverb)
index pattern by beat to improve performance in finding events
aaah synth: https://github.com/AppGeo/web-audio-examples/blob/master/formant.html
*/
</script>
</html>
